<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>dune-common: Filesystem Paths</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">dune-common
   &#160;<span id="projectnumber">2.8.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Filesystem Paths<div class="ingroups"><a class="el" href="a00400.html">Common</a> &raquo; <a class="el" href="a00402.html">Utilities</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Utilities for filesystem path management.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Filesystem Paths:</div>
<div class="dyncontent">
<div class="center"><img src="a00403.png" border="0" usemap="#aa00403" alt=""/></div>
<map name="aa00403" id="aa00403">
<area shape="rect" title="Utilities for filesystem path management." alt="" coords="119,5,243,31"/>
<area shape="rect" href="a00402.html" title="Collection of helper classes, type traits, etc." alt="" coords="5,5,71,31"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:a00251"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00251.html">path.cc</a></td></tr>
<tr class="memdesc:a00251"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utilites for handling filesystem paths. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00254"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00254.html">path.hh</a></td></tr>
<tr class="memdesc:a00254"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utilities for handling filesystem paths. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf35055b90526b3266f36956a4e361f50"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00403.html#gaf35055b90526b3266f36956a4e361f50">Dune::concatPaths</a> (const std::string &amp;base, const std::string &amp;p)</td></tr>
<tr class="memdesc:gaf35055b90526b3266f36956a4e361f50"><td class="mdescLeft">&#160;</td><td class="mdescRight">concatenate two paths  <a href="a00403.html#gaf35055b90526b3266f36956a4e361f50">More...</a><br /></td></tr>
<tr class="separator:gaf35055b90526b3266f36956a4e361f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b4c87bd874abdd0db9f6dc51d9588b0"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00403.html#ga1b4c87bd874abdd0db9f6dc51d9588b0">Dune::processPath</a> (const std::string &amp;p)</td></tr>
<tr class="memdesc:ga1b4c87bd874abdd0db9f6dc51d9588b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">sanitize a path for further processing  <a href="a00403.html#ga1b4c87bd874abdd0db9f6dc51d9588b0">More...</a><br /></td></tr>
<tr class="separator:ga1b4c87bd874abdd0db9f6dc51d9588b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d1669ed8677a07b152b1de21640b3f9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00403.html#ga1d1669ed8677a07b152b1de21640b3f9">Dune::pathIndicatesDirectory</a> (const std::string &amp;p)</td></tr>
<tr class="memdesc:ga1d1669ed8677a07b152b1de21640b3f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">check whether the given path indicates that it is a directory  <a href="a00403.html#ga1d1669ed8677a07b152b1de21640b3f9">More...</a><br /></td></tr>
<tr class="separator:ga1d1669ed8677a07b152b1de21640b3f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa9908e9eb153f3d37d7c7063ffc9b6a2"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00403.html#gaa9908e9eb153f3d37d7c7063ffc9b6a2">Dune::prettyPath</a> (const std::string &amp;p, bool isDirectory)</td></tr>
<tr class="memdesc:gaa9908e9eb153f3d37d7c7063ffc9b6a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">pretty print path  <a href="a00403.html#gaa9908e9eb153f3d37d7c7063ffc9b6a2">More...</a><br /></td></tr>
<tr class="separator:gaa9908e9eb153f3d37d7c7063ffc9b6a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae07624c824232706454d5d6d1d1cb5c8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00403.html#gae07624c824232706454d5d6d1d1cb5c8">Dune::prettyPath</a> (const std::string &amp;p)</td></tr>
<tr class="memdesc:gae07624c824232706454d5d6d1d1cb5c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">pretty print path  <a href="a00403.html#gae07624c824232706454d5d6d1d1cb5c8">More...</a><br /></td></tr>
<tr class="separator:gae07624c824232706454d5d6d1d1cb5c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2ce1b1de5e4a5c74802d615b4027a7b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00403.html#gab2ce1b1de5e4a5c74802d615b4027a7b">Dune::relativePath</a> (const std::string &amp;newbase, const std::string &amp;p)</td></tr>
<tr class="memdesc:gab2ce1b1de5e4a5c74802d615b4027a7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">compute a relative path between two paths  <a href="a00403.html#gab2ce1b1de5e4a5c74802d615b4027a7b">More...</a><br /></td></tr>
<tr class="separator:gab2ce1b1de5e4a5c74802d615b4027a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Utilities for filesystem path management. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf35055b90526b3266f36956a4e361f50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf35055b90526b3266f36956a4e361f50">&#9670;&nbsp;</a></span>concatPaths()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Dune::concatPaths </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>concatenate two paths </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>The base path. </td></tr>
    <tr><td class="paramname">p</td><td>The path to concatenate onto base.</td></tr>
  </table>
  </dd>
</dl>
<p>If p is an absolute path, return p. Otherwise return the string-concatenation of base and path, possibly with a '/' in between, if necessary.</p>
<p>Some examples: </p><table class="doxtable">
<tr>
<th>base </th><th>p </th><th>result  </th></tr>
<tr>
<td>anything </td><td>"/abs/path" </td><td>"/abs/path"  </td></tr>
<tr>
<td>"a" </td><td>"b" </td><td>"a/b"  </td></tr>
<tr>
<td>"/a" </td><td>"b" </td><td>"/a/b"  </td></tr>
<tr>
<td>"a/" </td><td>"b" </td><td>"a/b"  </td></tr>
<tr>
<td>"a" </td><td>"b/" </td><td>"a/b/"  </td></tr>
<tr>
<td>".." </td><td>"b" </td><td>"../b"  </td></tr>
<tr>
<td>"a" </td><td>".." </td><td>"a/.."  </td></tr>
<tr>
<td>"." </td><td>"b" </td><td>"./b"  </td></tr>
<tr>
<td>"a" </td><td>"." </td><td>"a/."  </td></tr>
<tr>
<td>"" </td><td>"b" </td><td>"b"  </td></tr>
<tr>
<td>"a" </td><td>"" </td><td>"a"  </td></tr>
<tr>
<td>"" </td><td>"" </td><td>""  </td></tr>
</table>
<p>If both base and p are sanitized as per <a class="el" href="a00403.html#ga1b4c87bd874abdd0db9f6dc51d9588b0" title="sanitize a path for further processing">processPath()</a>, and if p does not contain any leading "../", then the result will also be sanitized. </p>

</div>
</div>
<a id="ga1d1669ed8677a07b152b1de21640b3f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1d1669ed8677a07b152b1de21640b3f9">&#9670;&nbsp;</a></span>pathIndicatesDirectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Dune::pathIndicatesDirectory </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check whether the given path indicates that it is a directory </p>
<p>In particular the following kinds of paths indicate a directory: </p><ul>
<li>
The empty path (denotes the current directory), </li>
<li>
any path with a trailing '/', </li>
<li>
any path whose last component is "." or "..". </li>
</ul>

</div>
</div>
<a id="gae07624c824232706454d5d6d1d1cb5c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae07624c824232706454d5d6d1d1cb5c8">&#9670;&nbsp;</a></span>prettyPath() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Dune::prettyPath </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>pretty print path </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Path to pretty-print.</td></tr>
  </table>
  </dd>
</dl>
<p>This is like <a class="el" href="a00403.html#gaa9908e9eb153f3d37d7c7063ffc9b6a2" title="pretty print path">prettyPath(const std::string&amp; p, bool isDirectory)</a> with isDirectory automatically determined using pathIndicatesDirectory(p). </p>

</div>
</div>
<a id="gaa9908e9eb153f3d37d7c7063ffc9b6a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa9908e9eb153f3d37d7c7063ffc9b6a2">&#9670;&nbsp;</a></span>prettyPath() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Dune::prettyPath </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isDirectory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>pretty print path </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Path to pretty-print. </td></tr>
    <tr><td class="paramname">isDirectory</td><td>Whether to append a '/' to make clear this is a directory.</td></tr>
  </table>
  </dd>
</dl>
<p>Pretty print the path. This removes any duplicate '/' and any superfluous occurrences of ".." and ".". The resulting path will have a trailing '/' if it is the root path or if isDirectory is true. It will however not have a trailing '/' if it is otherwise clear that it is a directory &ndash; i.e. if its last component is "." or "..".</p>
<p>Some examples: </p><table class="doxtable">
<tr>
<th>p </th><th>isDirectory </th><th>result  </th></tr>
<tr>
<td>"" </td><td>anything </td><td>"."  </td></tr>
<tr>
<td>"." </td><td>anything </td><td>"."  </td></tr>
<tr>
<td>"./" </td><td>anything </td><td>"."  </td></tr>
<tr>
<td>"a/.." </td><td>anything </td><td>"."  </td></tr>
<tr>
<td>".." </td><td>anything </td><td>".."  </td></tr>
<tr>
<td>"../a" </td><td>true </td><td>"../a/"  </td></tr>
<tr>
<td>"../a" </td><td>false </td><td>"../a"  </td></tr>
<tr>
<td>"a" </td><td>true </td><td>"a/"  </td></tr>
<tr>
<td>"a" </td><td>false </td><td>"a"  </td></tr>
<tr>
<td>"a//" </td><td>true </td><td>"a/"  </td></tr>
<tr>
<td>"a//" </td><td>false </td><td>"a"  </td></tr>
<tr>
<td>"a///b" </td><td>true </td><td>"a/b/"  </td></tr>
<tr>
<td>"a///b" </td><td>false </td><td>"a/b"  </td></tr>
<tr>
<td>"/" </td><td>anything </td><td>"/"  </td></tr>
<tr>
<td>"/." </td><td>anything </td><td>"/"  </td></tr>
<tr>
<td>"/.." </td><td>anything </td><td>"/"  </td></tr>
<tr>
<td>"/a/.." </td><td>anything </td><td>"/"  </td></tr>
<tr>
<td>"/a" </td><td>true </td><td>"/a/"  </td></tr>
<tr>
<td>"/a" </td><td>false </td><td>"/a"  </td></tr>
<tr>
<td>"/a/" </td><td>true </td><td>"/a/"  </td></tr>
<tr>
<td>"/a/" </td><td>false </td><td>"/a"  </td></tr>
<tr>
<td>"/../a/" </td><td>true </td><td>"/a/"  </td></tr>
<tr>
<td>"/../a/" </td><td>false </td><td>"/a"  </td></tr>
</table>

</div>
</div>
<a id="ga1b4c87bd874abdd0db9f6dc51d9588b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b4c87bd874abdd0db9f6dc51d9588b0">&#9670;&nbsp;</a></span>processPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Dune::processPath </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sanitize a path for further processing </p>
<p>Sanitize the path as far as possible to make further processing easier. The resulting path has the following properties: </p><ul>
<li>
The path is a series of components, each followed by a single '/'. </li>
<li>
An absolute path starts with an empty component followed by a '/', so its first character will be '/'. This is the only case where an empty component can occur. </li>
<li>
The path does not contain any component ".". Any such component in the input is removed. </li>
<li>
A ".." component may only occur in the following case: A relative path may contain a series of ".." in the beginning. Any other occurrences of ".." in the input is collapsed with a preceding component or simply removed if it is at the beginning of an absolute path. </li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The result is really meant for processing only since it has two unusual properties: First, any path denoting the current directory in the input, such as "." will result in an empty path "". Second, any non-empty result path will have a trailing '/'. For other uses, <a class="el" href="a00403.html#gaa9908e9eb153f3d37d7c7063ffc9b6a2" title="pretty print path">prettyPath()</a> may be more appropriate.</dd></dl>
<p>Some examples: </p><table class="doxtable">
<tr>
<th>p </th><th>result  </th></tr>
<tr>
<td>"" </td><td>""  </td></tr>
<tr>
<td>"." </td><td>""  </td></tr>
<tr>
<td>"./" </td><td>""  </td></tr>
<tr>
<td>"a/.." </td><td>""  </td></tr>
<tr>
<td>".." </td><td>"../"  </td></tr>
<tr>
<td>"../a" </td><td>"../a/"  </td></tr>
<tr>
<td>"a" </td><td>"a/"  </td></tr>
<tr>
<td>"a//" </td><td>"a/"  </td></tr>
<tr>
<td>"a///b" </td><td>"a/b/"  </td></tr>
<tr>
<td>"/" </td><td>"/"  </td></tr>
<tr>
<td>"/." </td><td>"/"  </td></tr>
<tr>
<td>"/.." </td><td>"/"  </td></tr>
<tr>
<td>"/a/.." </td><td>"/"  </td></tr>
<tr>
<td>"/a" </td><td>"/a/"  </td></tr>
<tr>
<td>"/a/" </td><td>"/a/"  </td></tr>
<tr>
<td>"/../a/" </td><td>"/a/"  </td></tr>
</table>

</div>
</div>
<a id="gab2ce1b1de5e4a5c74802d615b4027a7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab2ce1b1de5e4a5c74802d615b4027a7b">&#9670;&nbsp;</a></span>relativePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Dune::relativePath </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>newbase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>compute a relative path between two paths </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newbase</td><td>Base path for the resulting relative path. </td></tr>
    <tr><td class="paramname">p</td><td>Path re sulting path should resolve to, when taken reltively to newbase.</td></tr>
  </table>
  </dd>
</dl>
<p>Compute a relative path from newbase to p. newbase is assumed to be a directory. p and newbase should either both be absolute, or both be relative. In the latter case they are assumed to both be relative to the same unspecified directory. The has the form of something sanitized by <a class="el" href="a00403.html#ga1b4c87bd874abdd0db9f6dc51d9588b0" title="sanitize a path for further processing">processPath()</a>.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="a01569.html" title="Default exception for dummy implementations.">NotImplemented</a></td><td>The condition that newbase and p must both be relative or both be absolute does not hold. </td></tr>
    <tr><td class="paramname"><a class="el" href="a01569.html" title="Default exception for dummy implementations.">NotImplemented</a></td><td>After sanitization newbase has more leading ".." components than p. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
