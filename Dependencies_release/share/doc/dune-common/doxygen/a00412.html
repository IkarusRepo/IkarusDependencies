<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>dune-common: FloatCmp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">dune-common
   &#160;<span id="projectnumber">2.8.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">FloatCmp<div class="ingroups"><a class="el" href="a00400.html">Common</a> &raquo; <a class="el" href="a00411.html">Numbers</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for FloatCmp:</div>
<div class="dyncontent">
<div class="center"><img src="a00412.png" border="0" usemap="#aa00412" alt=""/></div>
<map name="aa00412" id="aa00412">
<area shape="rect" href="a00411.html" title="Class implementing different number representations and helper functions." alt="" coords="5,5,80,31"/>
<area shape="rect" title=" " alt="" coords="128,5,207,31"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01589.html">Dune::FloatCmp::EpsilonType&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mapping of value type to epsilon type.  <a href="a01589.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01593.html">Dune::FloatCmp::EpsilonType&lt; std::vector&lt; T, A &gt; &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specialization of <a class="el" href="a01589.html" title="Mapping of value type to epsilon type.">EpsilonType</a> for std::vector.  <a href="a01593.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01597.html">Dune::FloatCmp::EpsilonType&lt; FieldVector&lt; T, n &gt; &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specialization of <a class="el" href="a01589.html" title="Mapping of value type to epsilon type.">EpsilonType</a> for <a class="el" href="a01405.html" title="vector space out of a tensor product of fields.">Dune::FieldVector</a>.  <a href="a01597.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01717.html">Dune::FloatCmp::DefaultEpsilon&lt; T, style &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">mapping from a value type and a compare style to a default epsilon  <a href="a01717.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01721.html">Dune::FloatCmpOps&lt; T, cstyle_, rstyle_ &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class encapsulating a default epsilon.  <a href="a01721.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga4aeb759ed9de8b477a155492aeb2789b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00412.html#ga4aeb759ed9de8b477a155492aeb2789b">Dune::FloatCmp::CmpStyle</a> { <a class="el" href="a00412.html#gga4aeb759ed9de8b477a155492aeb2789bacfb0348876cc64404ec31a6ca4b889ee">Dune::FloatCmp::relativeWeak</a>
, <a class="el" href="a00412.html#gga4aeb759ed9de8b477a155492aeb2789ba244e679dffd35be3f0b6cdacd4cd53b7">Dune::FloatCmp::relativeStrong</a>
, <a class="el" href="a00412.html#gga4aeb759ed9de8b477a155492aeb2789badaf8946c7ffe8f697b16515f9d880d34">Dune::FloatCmp::absolute</a>
, <a class="el" href="a00412.html#gga4aeb759ed9de8b477a155492aeb2789ba07502cff1e6a0857c51bec553f241697">Dune::FloatCmp::defaultCmpStyle</a> = relativeWeak
 }</td></tr>
<tr class="separator:ga4aeb759ed9de8b477a155492aeb2789b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8507e971c45243aed2c4de1b3736ca04"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00412.html#ga8507e971c45243aed2c4de1b3736ca04">Dune::FloatCmp::RoundingStyle</a> { <br />
&#160;&#160;<a class="el" href="a00412.html#gga8507e971c45243aed2c4de1b3736ca04a01b681db891f7b67fa52a4c2193eea3b">Dune::FloatCmp::towardZero</a>
, <a class="el" href="a00412.html#gga8507e971c45243aed2c4de1b3736ca04a0ba1a9b8cce0034f6b0a6bef4b1eb670">Dune::FloatCmp::towardInf</a>
, <a class="el" href="a00412.html#gga8507e971c45243aed2c4de1b3736ca04a6074c993d9019e8a31f30649602e21b9">Dune::FloatCmp::downward</a>
, <a class="el" href="a00412.html#gga8507e971c45243aed2c4de1b3736ca04a0e10271b704ebf42395156318e3442bc">Dune::FloatCmp::upward</a>
, <br />
&#160;&#160;<a class="el" href="a00412.html#gga8507e971c45243aed2c4de1b3736ca04a9d0bc0cf3b15252ab74e9cbeddc805c4">Dune::FloatCmp::defaultRoundingStyle</a> = towardZero
<br />
 }</td></tr>
<tr class="separator:ga8507e971c45243aed2c4de1b3736ca04"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga50c93e693f102298c61ecb14758f8d5b"><td class="memTemplParams" colspan="2">template&lt;class T , CmpStyle style&gt; </td></tr>
<tr class="memitem:ga50c93e693f102298c61ecb14758f8d5b"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00412.html#ga50c93e693f102298c61ecb14758f8d5b">Dune::FloatCmp::eq</a> (const T &amp;first, const T &amp;second, typename <a class="el" href="a01589.html">EpsilonType</a>&lt; T &gt;::Type epsilon=<a class="el" href="a01717.html">DefaultEpsilon</a>&lt; T, style &gt;::value())</td></tr>
<tr class="memdesc:ga50c93e693f102298c61ecb14758f8d5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">test for equality using epsilon  <a href="a00412.html#ga50c93e693f102298c61ecb14758f8d5b">More...</a><br /></td></tr>
<tr class="separator:ga50c93e693f102298c61ecb14758f8d5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d1eabc465f54e3c3dc8dc38189d0ddd"><td class="memTemplParams" colspan="2">template&lt;class T , CmpStyle style&gt; </td></tr>
<tr class="memitem:ga1d1eabc465f54e3c3dc8dc38189d0ddd"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00412.html#ga1d1eabc465f54e3c3dc8dc38189d0ddd">Dune::FloatCmp::ne</a> (const T &amp;first, const T &amp;second, typename <a class="el" href="a01589.html">EpsilonType</a>&lt; T &gt;::Type epsilon=<a class="el" href="a01717.html">DefaultEpsilon</a>&lt; T, style &gt;::value())</td></tr>
<tr class="memdesc:ga1d1eabc465f54e3c3dc8dc38189d0ddd"><td class="mdescLeft">&#160;</td><td class="mdescRight">test for inequality using epsilon  <a href="a00412.html#ga1d1eabc465f54e3c3dc8dc38189d0ddd">More...</a><br /></td></tr>
<tr class="separator:ga1d1eabc465f54e3c3dc8dc38189d0ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7ebcba7fc2fdf4497eacc57f4971eda"><td class="memTemplParams" colspan="2">template&lt;class T , CmpStyle style&gt; </td></tr>
<tr class="memitem:gae7ebcba7fc2fdf4497eacc57f4971eda"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00412.html#gae7ebcba7fc2fdf4497eacc57f4971eda">Dune::FloatCmp::gt</a> (const T &amp;first, const T &amp;second, typename <a class="el" href="a01589.html">EpsilonType</a>&lt; T &gt;::Type epsilon=<a class="el" href="a01717.html">DefaultEpsilon</a>&lt; T, style &gt;::value())</td></tr>
<tr class="memdesc:gae7ebcba7fc2fdf4497eacc57f4971eda"><td class="mdescLeft">&#160;</td><td class="mdescRight">test if first greater than second  <a href="a00412.html#gae7ebcba7fc2fdf4497eacc57f4971eda">More...</a><br /></td></tr>
<tr class="separator:gae7ebcba7fc2fdf4497eacc57f4971eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacca725b16b35b04c4eea0c4ee21757de"><td class="memTemplParams" colspan="2">template&lt;class T , CmpStyle style&gt; </td></tr>
<tr class="memitem:gacca725b16b35b04c4eea0c4ee21757de"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00412.html#gacca725b16b35b04c4eea0c4ee21757de">Dune::FloatCmp::lt</a> (const T &amp;first, const T &amp;second, typename <a class="el" href="a01589.html">EpsilonType</a>&lt; T &gt;::Type epsilon=<a class="el" href="a01717.html">DefaultEpsilon</a>&lt; T, style &gt;::value())</td></tr>
<tr class="memdesc:gacca725b16b35b04c4eea0c4ee21757de"><td class="mdescLeft">&#160;</td><td class="mdescRight">test if first lesser than second  <a href="a00412.html#gacca725b16b35b04c4eea0c4ee21757de">More...</a><br /></td></tr>
<tr class="separator:gacca725b16b35b04c4eea0c4ee21757de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8eb5c5d458b2556d5d685bb65161aef"><td class="memTemplParams" colspan="2">template&lt;class T , CmpStyle style&gt; </td></tr>
<tr class="memitem:gae8eb5c5d458b2556d5d685bb65161aef"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00412.html#gae8eb5c5d458b2556d5d685bb65161aef">Dune::FloatCmp::ge</a> (const T &amp;first, const T &amp;second, typename <a class="el" href="a01589.html">EpsilonType</a>&lt; T &gt;::Type epsilon=<a class="el" href="a01717.html">DefaultEpsilon</a>&lt; T, style &gt;::value())</td></tr>
<tr class="memdesc:gae8eb5c5d458b2556d5d685bb65161aef"><td class="mdescLeft">&#160;</td><td class="mdescRight">test if first greater or equal second  <a href="a00412.html#gae8eb5c5d458b2556d5d685bb65161aef">More...</a><br /></td></tr>
<tr class="separator:gae8eb5c5d458b2556d5d685bb65161aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9bad71c0f79d8f287fa419dd8bd565b"><td class="memTemplParams" colspan="2">template&lt;class T , CmpStyle style&gt; </td></tr>
<tr class="memitem:gae9bad71c0f79d8f287fa419dd8bd565b"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00412.html#gae9bad71c0f79d8f287fa419dd8bd565b">Dune::FloatCmp::le</a> (const T &amp;first, const T &amp;second, typename <a class="el" href="a01589.html">EpsilonType</a>&lt; T &gt;::Type epsilon=<a class="el" href="a01717.html">DefaultEpsilon</a>&lt; T, style &gt;::value())</td></tr>
<tr class="memdesc:gae9bad71c0f79d8f287fa419dd8bd565b"><td class="mdescLeft">&#160;</td><td class="mdescRight">test if first lesser or equal second  <a href="a00412.html#gae9bad71c0f79d8f287fa419dd8bd565b">More...</a><br /></td></tr>
<tr class="separator:gae9bad71c0f79d8f287fa419dd8bd565b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga510d97be4644ccab5db0b674d79633c6"><td class="memTemplParams" colspan="2">template&lt;class I , class T , CmpStyle cstyle, RoundingStyle rstyle&gt; </td></tr>
<tr class="memitem:ga510d97be4644ccab5db0b674d79633c6"><td class="memTemplItemLeft" align="right" valign="top">I&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00412.html#ga510d97be4644ccab5db0b674d79633c6">Dune::FloatCmp::round</a> (const T &amp;val, typename <a class="el" href="a01589.html">EpsilonType</a>&lt; T &gt;::Type epsilon=<a class="el" href="a01717.html">DefaultEpsilon</a>&lt; T, cstyle &gt;::value())</td></tr>
<tr class="memdesc:ga510d97be4644ccab5db0b674d79633c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">round using epsilon  <a href="a00412.html#ga510d97be4644ccab5db0b674d79633c6">More...</a><br /></td></tr>
<tr class="separator:ga510d97be4644ccab5db0b674d79633c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78eaf86b21236f5c55336724e911da08"><td class="memTemplParams" colspan="2">template&lt;class I , class T , CmpStyle cstyle, RoundingStyle rstyle&gt; </td></tr>
<tr class="memitem:ga78eaf86b21236f5c55336724e911da08"><td class="memTemplItemLeft" align="right" valign="top">I&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00412.html#ga78eaf86b21236f5c55336724e911da08">Dune::FloatCmp::trunc</a> (const T &amp;val, typename <a class="el" href="a01589.html">EpsilonType</a>&lt; T &gt;::Type epsilon=<a class="el" href="a01717.html">DefaultEpsilon</a>&lt; T, cstyle &gt;::value())</td></tr>
<tr class="memdesc:ga78eaf86b21236f5c55336724e911da08"><td class="mdescLeft">&#160;</td><td class="mdescRight">truncate using epsilon  <a href="a00412.html#ga78eaf86b21236f5c55336724e911da08">More...</a><br /></td></tr>
<tr class="separator:ga78eaf86b21236f5c55336724e911da08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h1><a class="anchor" id="How_to_compare"></a>
How to compare floats</h1>
<p>When comparing floating point numbers for equality, one often faces the problem that floating point operations are not always exact. For example on i386 the expression </p><div class="fragment"><div class="line">0.2 + 0.2 + 0.2 + 0.2 + 0.2 + 0.2 + 0.2 + 0.2 + 0.2 + 0.2 == 2.0</div>
</div><!-- fragment --><p> evaluates to </p><div class="fragment"><div class="line">1.99999999999999977796 == 2.00000000000000000000</div>
</div><!-- fragment --><p> which is false. One solution is to compare approximately, using an epsilon which says how much deviation to accept.</p>
<p>The most straightforward way of comparing is using an <em>absolute</em> epsilon. This means comparison for equality is replaced by </p><div class="fragment"><div class="line">abs(first-second) &lt;= epsilon</div>
</div><!-- fragment --><p> This has a severe disadvantage: if you have an epsilon like 1e-10 but first and second are of the magnitude 1e-15 everything will compare equal which is certainly not what you want. This can be overcome by selecting an appropriate epsilon. Nevertheless this method of comparing is not recommended in general, and we will present a more robus method in the next paragraph.</p>
<p>There is another way of comparing approximately, using a <em>relative</em> epsilon which is then scaled with first: </p><div class="fragment"><div class="line">abs(first-second) &lt;= epsilon * abs(first)</div>
</div><!-- fragment --><p> Of cource the comparison should be symmetric in first and second so we cannot arbitrarily select either first or second to scale epsilon. The are two symmetric variants, <em>relative_weak</em> </p><div class="fragment"><div class="line">abs(first-second) &lt;= epsilon * <a class="code" href="a00431.html#a63c18a33653d80d902d11126c4547e0d">max</a>(abs(first), abs(second))</div>
<div class="ttc" id="aa00431_html_a63c18a33653d80d902d11126c4547e0d"><div class="ttname"><a href="a00431.html#a63c18a33653d80d902d11126c4547e0d">Dune::AlignedNumberImpl::max</a></div><div class="ttdeci">auto max(const AlignedNumber&lt; T, align &gt; &amp;a, const AlignedNumber&lt; T, align &gt; &amp;b)</div><div class="ttdef"><b>Definition:</b> debugalign.hh:412</div></div>
</div><!-- fragment --><p> and <em>relative_strong</em> </p><div class="fragment"><div class="line">abs(first-second) &lt;= epsilon * <a class="code" href="a00431.html#a10f66b4d8465c253379031564e8ba250">min</a>(abs(first), abs(second))</div>
<div class="ttc" id="aa00431_html_a10f66b4d8465c253379031564e8ba250"><div class="ttname"><a href="a00431.html#a10f66b4d8465c253379031564e8ba250">Dune::AlignedNumberImpl::min</a></div><div class="ttdeci">auto min(const AlignedNumber&lt; T, align &gt; &amp;a, const AlignedNumber&lt; T, align &gt; &amp;b)</div><div class="ttdef"><b>Definition:</b> debugalign.hh:434</div></div>
</div><!-- fragment --><p> Both variants are good, but in practice the relative_weak variant is preferred. This is also the default variant.</p>
<dl class="section note"><dt>Note</dt><dd>Although using a relative epsilon is better than using an absolute epsilon, using a relative epsilon leads to problems if either first or second equals 0. In principle the relative method can be combined with an absolute method using an epsilon near the minimum representable positive value, but this is not implemented here.</dd></dl>
<p>There is a completely different way of comparing floats. Instead of giving an epsilon, the programmer states how many representable value are allowed between first and second. See the "Comparing using integers" section in <a href="http://www.cygnus-software.com/papers/comparingfloats/comparingfloats.htm">http://www.cygnus-software.com/papers/comparingfloats/comparingfloats.htm</a> for more about that.</p>
<h1><a class="anchor" id="Interface"></a>
Interface</h1>
<p>To do the comparison, you can use the free functions <a class="el" href="a00412.html#ga50c93e693f102298c61ecb14758f8d5b">eq()</a>, <a class="el" href="a00412.html#ga1d1eabc465f54e3c3dc8dc38189d0ddd">ne()</a>, <a class="el" href="a00412.html#gae7ebcba7fc2fdf4497eacc57f4971eda">gt()</a>, <a class="el" href="a00412.html#gacca725b16b35b04c4eea0c4ee21757de">lt()</a>, <a class="el" href="a00412.html#gae8eb5c5d458b2556d5d685bb65161aef">ge()</a> and <a class="el" href="a00412.html#gae9bad71c0f79d8f287fa419dd8bd565b">le()</a> from the namespace <a class="el" href="a00438.html">Dune::FloatCmp</a>. They take the values to compare and optionally an epsilon, which defaults to 8 times the machine epsilon (the difference between 1.0 and the smallest representable value &gt; 1.0) for relative comparisons, or simply 1e-6 for absolute comparisons. The compare style can be given as an optional second template parameter and defaults to relative_weak.</p>
<p>You can also use the class <a class="el" href="a01721.html" title="Class encapsulating a default epsilon.">Dune::FloatCmpOps</a> which has <a class="el" href="a01721.html#a498a2da2995839807249c4e8e49e7649">eq()</a>, <a class="el" href="a01721.html#abd51723b0c50f428a0c47505daeacf44">ne()</a>, <a class="el" href="a01721.html#afa0c2ebf45af602550aa9da0cbbd2eba">gt()</a>, <a class="el" href="a01721.html#a7a44bc1c5f5dab6e180ce21769c19336">lt()</a>, <a class="el" href="a01721.html#a7d30a3be9c17c853731f3776064d6c95">ge()</a> and <a class="el" href="a01721.html#a157dbc3ca5614f53e129bfc322ede59d">le()</a> as member functions. In this case the class encapsulates the epsilon and the comparison style (again the defaults from the previous paragraph apply). This may be more convenient if you write your own class utilizing floating point comparisons, and you want the user of you class to specify epsilon and compare style. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga4aeb759ed9de8b477a155492aeb2789b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4aeb759ed9de8b477a155492aeb2789b">&#9670;&nbsp;</a></span>CmpStyle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00412.html#ga4aeb759ed9de8b477a155492aeb2789b">Dune::FloatCmp::CmpStyle</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>How to compare </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga4aeb759ed9de8b477a155492aeb2789bacfb0348876cc64404ec31a6ca4b889ee"></a>relativeWeak&#160;</td><td class="fielddoc"><p>|a-b|/|a| &lt;= epsilon || |a-b|/|b| &lt;= epsilon </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4aeb759ed9de8b477a155492aeb2789ba244e679dffd35be3f0b6cdacd4cd53b7"></a>relativeStrong&#160;</td><td class="fielddoc"><p>|a-b|/|a| &lt;= epsilon &amp;&amp; |a-b|/|b| &lt;= epsilon </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4aeb759ed9de8b477a155492aeb2789badaf8946c7ffe8f697b16515f9d880d34"></a>absolute&#160;</td><td class="fielddoc"><p>|a-b| &lt;= epsilon </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4aeb759ed9de8b477a155492aeb2789ba07502cff1e6a0857c51bec553f241697"></a>defaultCmpStyle&#160;</td><td class="fielddoc"><p>the global default compare style (relative_weak) </p>
</td></tr>
</table>

</div>
</div>
<a id="ga8507e971c45243aed2c4de1b3736ca04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8507e971c45243aed2c4de1b3736ca04">&#9670;&nbsp;</a></span>RoundingStyle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00412.html#ga8507e971c45243aed2c4de1b3736ca04">Dune::FloatCmp::RoundingStyle</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>How to round or truncate </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga8507e971c45243aed2c4de1b3736ca04a01b681db891f7b67fa52a4c2193eea3b"></a>towardZero&#160;</td><td class="fielddoc"><p>always round toward 0 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga8507e971c45243aed2c4de1b3736ca04a0ba1a9b8cce0034f6b0a6bef4b1eb670"></a>towardInf&#160;</td><td class="fielddoc"><p>always round away from 0 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga8507e971c45243aed2c4de1b3736ca04a6074c993d9019e8a31f30649602e21b9"></a>downward&#160;</td><td class="fielddoc"><p>round toward <img class="formulaInl" alt="$-\infty$" src="form_4.png"/> </p>
</td></tr>
<tr><td class="fieldname"><a id="gga8507e971c45243aed2c4de1b3736ca04a0e10271b704ebf42395156318e3442bc"></a>upward&#160;</td><td class="fielddoc"><p>round toward <img class="formulaInl" alt="$+\infty$" src="form_5.png"/> </p>
</td></tr>
<tr><td class="fieldname"><a id="gga8507e971c45243aed2c4de1b3736ca04a9d0bc0cf3b15252ab74e9cbeddc805c4"></a>defaultRoundingStyle&#160;</td><td class="fielddoc"><p>the global default rounding style (toward_zero) </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga50c93e693f102298c61ecb14758f8d5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga50c93e693f102298c61ecb14758f8d5b">&#9670;&nbsp;</a></span>eq()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , CmpStyle style&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool Dune::FloatCmp::eq </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>second</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="a01589.html">EpsilonType</a>&lt; T &gt;::Type&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code><a class="el" href="a01717.html">DefaultEpsilon</a>&lt;&#160;T,&#160;style&#160;&gt;::value()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>test for equality using epsilon </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Type of the values to compare </td></tr>
    <tr><td class="paramname">style</td><td>How to compare. This defaults to defaultCmpStyle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td>left operand of equals operation </td></tr>
    <tr><td class="paramname">second</td><td>right operand of equals operation </td></tr>
    <tr><td class="paramname">epsilon</td><td>The epsilon to use in the comparison </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae8eb5c5d458b2556d5d685bb65161aef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae8eb5c5d458b2556d5d685bb65161aef">&#9670;&nbsp;</a></span>ge()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , CmpStyle style&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool Dune::FloatCmp::ge </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>second</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="a01589.html">EpsilonType</a>&lt; T &gt;::Type&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code><a class="el" href="a01717.html">DefaultEpsilon</a>&lt;&#160;T,&#160;style&#160;&gt;::value()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>test if first greater or equal second </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Type of the values to compare </td></tr>
    <tr><td class="paramname">style</td><td>How to compare. This defaults to defaultCmpStyle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td>left operand of greater-or-equals operation </td></tr>
    <tr><td class="paramname">second</td><td>right operand of greater-or-equals operation </td></tr>
    <tr><td class="paramname">epsilon</td><td>The epsilon to use in the comparison </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>eq(first, second, epsilon) || first &gt; second</dd></dl>
<p>this is like first &gt; second, but the region that compares equal with an epsilon is also included </p>

</div>
</div>
<a id="gae7ebcba7fc2fdf4497eacc57f4971eda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae7ebcba7fc2fdf4497eacc57f4971eda">&#9670;&nbsp;</a></span>gt()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , CmpStyle style&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool Dune::FloatCmp::gt </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>second</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="a01589.html">EpsilonType</a>&lt; T &gt;::Type&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code><a class="el" href="a01717.html">DefaultEpsilon</a>&lt;&#160;T,&#160;style&#160;&gt;::value()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>test if first greater than second </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Type of the values to compare </td></tr>
    <tr><td class="paramname">style</td><td>How to compare. This defaults to defaultCmpStyle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td>left operand of greater-than operation </td></tr>
    <tr><td class="paramname">second</td><td>right operand of greater-than operation </td></tr>
    <tr><td class="paramname">epsilon</td><td>The epsilon to use in the comparison </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ne(first, second, epsilon) &amp;&amp; first &gt; second</dd></dl>
<p>this is like first &gt; second but the region that compares equal with an epsilon is excluded </p>

</div>
</div>
<a id="gae9bad71c0f79d8f287fa419dd8bd565b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9bad71c0f79d8f287fa419dd8bd565b">&#9670;&nbsp;</a></span>le()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , CmpStyle style&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool Dune::FloatCmp::le </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>second</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="a01589.html">EpsilonType</a>&lt; T &gt;::Type&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code><a class="el" href="a01717.html">DefaultEpsilon</a>&lt;&#160;T,&#160;style&#160;&gt;::value()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>test if first lesser or equal second </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Type of the values to compare </td></tr>
    <tr><td class="paramname">style</td><td>How to compare. This defaults to defaultCmpStyle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td>left operand of less-or-equals operation </td></tr>
    <tr><td class="paramname">second</td><td>right operand of less-or-equals operation </td></tr>
    <tr><td class="paramname">epsilon</td><td>The epsilon to use in the comparison </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>eq(first, second) || first &lt; second</dd></dl>
<p>this is like first &lt; second, but the region that compares equal with an epsilon is also included </p>

</div>
</div>
<a id="gacca725b16b35b04c4eea0c4ee21757de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacca725b16b35b04c4eea0c4ee21757de">&#9670;&nbsp;</a></span>lt()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , CmpStyle style&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool Dune::FloatCmp::lt </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>second</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="a01589.html">EpsilonType</a>&lt; T &gt;::Type&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code><a class="el" href="a01717.html">DefaultEpsilon</a>&lt;&#160;T,&#160;style&#160;&gt;::value()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>test if first lesser than second </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Type of the values to compare </td></tr>
    <tr><td class="paramname">style</td><td>How to compare. This defaults to defaultCmpStyle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td>left operand of less-than operation </td></tr>
    <tr><td class="paramname">second</td><td>right operand of less-than operation </td></tr>
    <tr><td class="paramname">epsilon</td><td>The epsilon to use in the comparison </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ne(first, second, epsilon) &amp;&amp; first &lt; second</dd></dl>
<p>this is like first &lt; second, but the region that compares equal with an epsilon is excluded </p>

</div>
</div>
<a id="ga1d1eabc465f54e3c3dc8dc38189d0ddd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1d1eabc465f54e3c3dc8dc38189d0ddd">&#9670;&nbsp;</a></span>ne()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , CmpStyle style&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool Dune::FloatCmp::ne </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>second</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="a01589.html">EpsilonType</a>&lt; T &gt;::Type&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code><a class="el" href="a01717.html">DefaultEpsilon</a>&lt;&#160;T,&#160;style&#160;&gt;::value()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>test for inequality using epsilon </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Type of the values to compare </td></tr>
    <tr><td class="paramname">style</td><td>How to compare. This defaults to defaultCmpStyle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td>left operand of not-equal operation </td></tr>
    <tr><td class="paramname">second</td><td>right operand of not-equal operation </td></tr>
    <tr><td class="paramname">epsilon</td><td>The epsilon to use in the comparison </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>!eq(first, second, epsilon) </dd></dl>

</div>
</div>
<a id="ga510d97be4644ccab5db0b674d79633c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga510d97be4644ccab5db0b674d79633c6">&#9670;&nbsp;</a></span>round()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class I , class T , CmpStyle cstyle, RoundingStyle rstyle&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">I Dune::FloatCmp::round </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="a01589.html">EpsilonType</a>&lt; T &gt;::Type&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code><a class="el" href="a01717.html">DefaultEpsilon</a>&lt;&#160;T,&#160;cstyle&#160;&gt;::value()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>round using epsilon </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">I</td><td>The integral type to round to </td></tr>
    <tr><td class="paramname">T</td><td>Type of the value to round </td></tr>
    <tr><td class="paramname">cstyle</td><td>How to compare. This defaults to defaultCmpStyle. </td></tr>
    <tr><td class="paramname">rstyle</td><td>How to round. This defaults to defaultRoundingStyle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>The value to round </td></tr>
    <tr><td class="paramname">epsilon</td><td>The epsilon to use in comparisons </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The rounded value</dd></dl>
<p>Round according to rstyle. If val is already near the mean of two adjacent integers in terms of epsilon, the result will be the rounded mean. </p>

</div>
</div>
<a id="ga78eaf86b21236f5c55336724e911da08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78eaf86b21236f5c55336724e911da08">&#9670;&nbsp;</a></span>trunc()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class I , class T , CmpStyle cstyle, RoundingStyle rstyle&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">I Dune::FloatCmp::trunc </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename <a class="el" href="a01589.html">EpsilonType</a>&lt; T &gt;::Type&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code><a class="el" href="a01717.html">DefaultEpsilon</a>&lt;&#160;T,&#160;cstyle&#160;&gt;::value()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>truncate using epsilon </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">I</td><td>The integral type to truncate to </td></tr>
    <tr><td class="paramname">T</td><td>Type of the value to truncate </td></tr>
    <tr><td class="paramname">cstyle</td><td>How to compare. This defaults to defaultCmpStyle. </td></tr>
    <tr><td class="paramname">rstyle</td><td>How to truncate. This defaults to defaultRoundingStyle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>The value to truncate </td></tr>
    <tr><td class="paramname">epsilon</td><td>The epsilon to use in comparisons </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The truncated value</dd></dl>
<p>Truncate according to rstyle. If val is already near an integer in terms of epsilon, the result will be that integer instead of the real truncated value. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
